@page "/AuditsRecord"
@inherits ServicePageBase<AUDIT_RECORDS, IAuditRecordsService>


<AuthenticationView>
    <Authenticated>

        <GenGrid DataSource="@DataSource"
                 TModel="AUDIT_RECORDS"
                 EditMode="EditMode.SmartForm"
                 MaxWidth="MaxWidth.Large"
                 Title="Audit Queries"
                 FixedFooter="true"
                 Search="FindByParametersAsync"
                 Height="500"
                 Class="m-2">
            <GenSearchFields>
                <GenComboBox BindingField="@nameof(AUDIT_RECORDS.AB_USER_ID)"
                             DataSource="UsersList.Value"
                             DisplayField="@nameof(USERS.U_FULLNAME)"
                             ValueField="@nameof(USERS.U_ROWID)"
                             xs="12" sm="12" md="6" lg="3" xl="3" xxl="3"
                             Label="User"/>
            </GenSearchFields>
            <GenColumns>

                <GenTextField BindingField="@nameof(AUDIT_RECORDS.AB_DATE)"
                              Label="Date" />

                <GenComboBox BindingField="@nameof(AUDIT_RECORDS.AB_USER_ID)"
                             DataSource="UsersList.Value"
                             DisplayField="@nameof(USERS.U_NAME)"
                             ValueField="@nameof(USERS.U_ROWID)"
                             Label="User" />

                <GenComboBox BindingField="@nameof(AUDIT_RECORDS.AB_TYPE)"
                             DataSource="OperationsList.Value"
                             DisplayField="@nameof(Operations.Description)"
                             ValueField="@nameof(Operations.Id)"
                             Label="Type" />

                <GenTextField BindingField="@nameof(AUDIT_RECORDS.AB_END_POINT)"
                              Label="Date" />

                <GenTextField BindingField="@nameof(AUDIT_RECORDS.AR_PROPERTY_NAME)"
                              Label="Property" />

                <GenTextField BindingField="@nameof(AUDIT_RECORDS.AR_TABLE_NAME)"
                              Label="Table Name" />

                <GenTextField BindingField="@nameof(AUDIT_RECORDS.AR_IS_PRIMARYKEY)"
                              Label="Primary Key" />

                <GenTextField BindingField="@nameof(AUDIT_RECORDS.AR_OLD_VALUE)"
                              Label="Old Value" />

                <GenTextField BindingField="@nameof(AUDIT_RECORDS.AR_NEW_VALUE)"
                              Label="New Value" />
            </GenColumns>        
        </GenGrid>
        
    </Authenticated>
</AuthenticationView>


 